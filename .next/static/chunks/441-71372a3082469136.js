"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{3504:function(e,s,l){l.r(s);var a=l(5893),d=l(251),i=l(5138);let n=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{path:"Login"}),(0,a.jsx)(i.Z,{type:"login"})]});n.guestGuard=!0,n.authGuard=!1,s.default=n},7406:function(e,s,l){var a=l(5893),d=l(4776),i=l(657),n=l(7645),r=l(6514),t=l(8456),o=l(7294);let c=o.forwardRef(function(e,s){return(0,a.jsx)(d.Z,{direction:"down",ref:s,...e})}),m=e=>{let{open:s,handleClose:l,deleteFunction:d,loading:o}=e;return(0,a.jsxs)(i.Z,{open:s,TransitionComponent:c,keepMounted:!0,onClose:l,"aria-describedby":"alert-dialog-slide-description",children:[(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{class:"modal-header",children:[(0,a.jsx)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",children:"Are you Sure?"}),(0,a.jsx)("button",{type:"button",onClick:l,class:"btn-close","aria-label":"Close"})]})}),(0,a.jsx)(r.Z,{children:(0,a.jsx)("div",{class:" address-modal",children:(0,a.jsx)("div",{class:"modal-dialog",children:(0,a.jsxs)("div",{class:"modal-content",children:[(0,a.jsx)("div",{class:"modal-body",children:"This is delete permantely. Please make sure you want to delete this."}),(0,a.jsx)("div",{class:"modal-footer",children:(0,a.jsxs)("div",{class:"checkout",children:[(0,a.jsxs)("a",{role:"button",onClick:d,class:"btn gradiant_button",children:[o?(0,a.jsx)(t.Z,{size:30,color:"inherit"}):"Delete"," "]}),(0,a.jsx)("a",{role:"button",onClick:l,class:"btn primary-button",children:"Cancel"})]})})]})})})})]})};s.Z=m},9441:function(e,s,l){l.d(s,{Z:function(){return C}});var a=l(5893),d=l(7294),i=l(7406),n=l(5971),r=l(3504),t=l(6310),o=l(7536),c=l(7533),m=l(2517),u=l(3021);let h=e=>{let{item:s,openEdit:l,openDelete:d}=e;return(0,a.jsxs)("li",{children:[(0,a.jsx)("div",{className:"address_title",children:null==s?void 0:s.full_name}),(0,a.jsxs)("div",{className:"address_detail",children:[null==s?void 0:s.address1,(0,a.jsx)("br",{}),null==s?void 0:s.address2,(0,a.jsx)("br",{}),null==s?void 0:s.city,", ",null==s?void 0:s.state," ",null==s?void 0:s.pin,(0,a.jsx)("br",{}),null==s?void 0:s.country,(0,a.jsx)("br",{}),"Phone number:",null==s?void 0:s.phone]}),(0,a.jsxs)("div",{className:"action-details",children:[(0,a.jsx)("a",{role:"button",onClick:()=>l(s),className:"btn-edited","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Edit"}),(0,a.jsx)("a",{role:"button",onClick:()=>d(s),className:"btn-danger","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",children:"Delete"})]})]})};var x=l(1233),v=l(8648),j=l(4644),b=l(1163),p=l(1674),f=l(8456),N=l(7918);l(9755);var y=l(9878),g=l(6501);let k={isDefault:1,user_id:"",address1:"",address2:"",city:"",state:"",country:"",pin:"",phone:"",email:"",full_name:"",address_type:"home"},_=t.Ry().shape({phone:t.Z_().required("Phone Number is required").matches(r.phoneRegExp,"Please enter a Valid Phone Number"),full_name:t.Z_().required("Name is required"),address1:t.Z_().required("Address 1 is required"),address2:t.Z_().required("Address 2 is required"),city:t.Z_().required("city is required"),state:t.Z_().required("state is required"),country:t.Z_().required("country is required"),pin:t.Z_().required("pin is required"),email:t.Z_().email().required("email is required")}),Z=e=>{var s,l,r,t;let{place:Z="profile",selected:C,setSelected:A,closeModal:R,popup:q}=e,[F,w]=(0,d.useState)(""),[S,D]=(0,d.useState)(""),[E,M]=(0,d.useState)("Add"),[P,L]=(0,d.useState)(""),[z,H]=(0,d.useState)(!1),T=(0,d.useRef)(null),B=(0,x.I0)(),O=(0,x.v9)(e=>e.user),U=(0,b.useRouter)(),{id:G}=U.query;async function I(){w(!0),await B((0,v.HR)(G)),w(!1)}let K=(0,o.cI)({mode:"onChange",resolver:(0,c.X)(_),defaultValues:k}),{control:X,setError:V,setValue:W,watch:Y,handleSubmit:J,reset:Q,formState:{errors:$}}=K,ee=async e=>{D(!0);let s=p.Z.addAddress;"Edit"===E&&(s=p.Z.updateAddress),await (0,u.K2)(s,e,"Address ".concat("Edit"===E?"Updated":"Added"," Successfully"))&&(T.current.click(),B((0,v.HR)(G))),D(!1)};async function es(){var e;if(!C){g.ZP.error("Please Select a Address to continue");return}let s=null==O?void 0:null===(e=O.address)||void 0===e?void 0:e.find(e=>e.id===C);D(!0);let l=p.Z.updateAddress;await (0,u.K2)(l,{user_id:(null==s?void 0:s.user_id)||"",address_id:(null==s?void 0:s.id)||"",isDefault:1},"Address Updated Successfully")&&(B((0,v.HR)(G)),R&&R()),D(!1)}function el(){Q(k),W("user_id",G),M("Add")}function ea(e){L(e.id),H(!0)}function ed(e){Q({user_id:(null==e?void 0:e.user_id)||"",address_id:(null==e?void 0:e.id)||"",isDefault:1,email:(null==e?void 0:e.email)||"",address1:(null==e?void 0:e.address1)||"",address2:(null==e?void 0:e.address2)||"",city:(null==e?void 0:e.city)||"",state:(null==e?void 0:e.state)||"",country:(null==e?void 0:e.country)||"",pin:(null==e?void 0:e.pin)||"",phone:(null==e?void 0:e.phone)||"",full_name:(null==e?void 0:e.full_name)||"",address_type:(null==e?void 0:e.address_type)||"home"}),M("Edit")}async function ei(){D(!0);let e="".concat(p.Z.remvoveAddress).concat(P),s=await (0,u.Xr)(e);s&&(B((0,v.HR)(G)),H(!1)),D(!1)}return(0,d.useEffect)(()=>{G&&I()},[B,G]),((0,d.useEffect)(()=>{var e;if((null==O?void 0:null===(e=O.address)||void 0===e?void 0:e.length)>0&&"billing"===Z){let e={};for(let s of null==O?void 0:O.address)(null==s?void 0:s.isDefault)===1&&(e=s);A(null==e?void 0:e.id)}},[null==O?void 0:O.address]),F)?(0,a.jsx)(j.Z,{}):(0,a.jsxs)(a.Fragment,{children:["billing"===Z?(0,a.jsxs)("div",{className:q?"col-sm-12":"col-lg-8 col-md-8 col-sm-12",children:[(0,a.jsxs)("div",{className:"saved-address",children:[(0,a.jsx)("h4",{children:"Saved Addresses"}),(0,a.jsxs)("a",{role:"button",onClick:es,className:"btn gradiant_button using-address",children:[S?(0,a.jsx)(f.Z,{size:30,color:"inherit"}):"Use This Address"," "]})]}),(null==O?void 0:null===(s=O.address)||void 0===s?void 0:s.length)>0?null==O?void 0:null===(l=O.address)||void 0===l?void 0:l.map((e,s)=>(0,a.jsxs)("div",{onClick:()=>A(e.id),className:C===(null==e?void 0:e.id)?"save-address-checkout":"not-selected-checkout",children:[(0,a.jsxs)("div",{className:"saved-address-manual",children:[(0,a.jsxs)("div",{className:"label-tags d-flex ",children:[(0,a.jsxs)("div",{className:"form-check p-0",children:[(0,a.jsx)("input",{className:"form-check-input",checked:C===(null==e?void 0:e.id),disabled:!0,type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"}),(0,a.jsx)("label",{onClick:()=>A(e.id),className:"form-check-label",style:{textTransform:"capitalize"},for:"flexRadioDefault1",children:null==e?void 0:e.address_type})]}),(null==e?void 0:e.isDefault)===1?(0,a.jsx)(N.Z,{size:"small",sx:{ml:2},color:"primary",label:"Default"}):null]}),(0,a.jsxs)("div",{className:"action-details",children:[(0,a.jsx)("a",{role:"button",onClick:()=>ed(e),className:"btn-edited","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Edit"}),(0,a.jsx)("a",{role:"button",onClick:()=>ea(e),className:"btn-danger","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",children:"Delete"})]})]}),(0,a.jsx)("div",{className:"saved-manual-address-list",children:(0,a.jsxs)("p",{children:[null==e?void 0:e.address1," ",null==e?void 0:e.city,", ",null==e?void 0:e.state," ",null==e?void 0:e.state,", ",null==e?void 0:e.country," M. ",null==e?void 0:e.phone]})})]},s)):(0,a.jsx)("p",{children:"No Address found"}),(0,a.jsx)("div",{className:"add-new-address",children:(0,a.jsx)("div",{className:"new-tap-address",children:(0,a.jsxs)("a",{role:"button",onClick:el,"data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[(0,a.jsxs)("span",{className:"material-symbols-rounded",children:[(0,a.jsx)(y.Z,{icon:"mdi:plus"})," "]}),(0,a.jsx)("p",{children:"Add New Address"})]})})})]}):(0,a.jsxs)("div",{className:"tab-pane fade",id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab",children:[(0,a.jsxs)("div",{className:"tab_title",children:[(0,a.jsx)("h5",{children:"Your Addresses"}),(0,a.jsx)("a",{role:"button",onClick:el,className:"btn gradiant_button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add New Address"})]}),(0,a.jsx)("ul",{className:"address_list",children:(null==O?void 0:null===(r=O.address)||void 0===r?void 0:r.length)>0?null==O?void 0:null===(t=O.address)||void 0===t?void 0:t.map((e,s)=>(0,a.jsx)(h,{openDelete:ea,openEdit:ed,item:e},s)):(0,a.jsx)("p",{children:"No Address found"})})]}),(0,a.jsx)("div",{className:"modal fade address-modal",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,a.jsx)("div",{className:"modal-dialog modal-lg",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsxs)("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:[E," Address"]}),(0,a.jsx)("button",{ref:T,type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,a.jsxs)(n.Z,{methods:K,onSubmit:J(ee),children:[(0,a.jsx)("div",{className:"modal-body",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(m.Z,{name:"full_name"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Address Line 1"}),(0,a.jsx)(m.Z,{name:"address1"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Country"}),(0,a.jsx)(m.Z,{name:"country"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"City"}),(0,a.jsx)(m.Z,{name:"city"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Email"}),(0,a.jsx)(m.Z,{name:"email",type:"email"})]})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Save Address As (Optional)"}),(0,a.jsxs)("div",{className:"label-tags",children:[(0,a.jsxs)("div",{className:"form-check ps-0",children:[(0,a.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"option1",onChange:e=>{W("address_type","home")},checked:"home"===Y("address_type")}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"exampleRadios1",children:"Home"})]}),(0,a.jsxs)("div",{className:"form-check",children:[(0,a.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios2",value:"option2",onChange:e=>{W("address_type","work")},checked:"work"===Y("address_type")}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"exampleRadios2",children:"Work"})]}),(0,a.jsxs)("div",{className:"form-check",children:[(0,a.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios3",value:"option3",onChange:e=>{W("address_type","other")},checked:"other"===Y("address_type")}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"exampleRadios3",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Address Line 2 (Optional)"}),(0,a.jsx)(m.Z,{name:"address2"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"State"}),(0,a.jsx)(m.Z,{name:"state"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Pin/ Zip Code"}),(0,a.jsx)(m.Z,{name:"pin"})]}),(0,a.jsxs)("div",{className:"firstname mb-2",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Phone"}),(0,a.jsx)(m.Z,{name:"phone"})]})]})]})}),(0,a.jsx)("div",{className:"modal-footer",children:(0,a.jsxs)("div",{className:"checkout",children:[(0,a.jsxs)("a",{role:"button",type:"submit",onClick:J(ee),className:"btn gradiant_button",children:[S?(0,a.jsx)(f.Z,{size:30,color:"inherit"}):"Save Address"," "]}),(0,a.jsx)("a",{"data-bs-dismiss":"modal",role:"button",className:"btn primary-button",children:"Cancel"})]})})]})]})})}),(0,a.jsx)(i.Z,{handleClose:function(){L(""),H(!1)},open:z,deleteFunction:ei,loading:S})]})};var C=Z}}]);