(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{2494:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return s(9071)}])},9071:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return K}});var i=s(5893),a=s(7294),r=s(2517),n=s(5971),t=s(251),d=s(3021),o=s(5715),c=s(6310),m=s(7536),u=s(8456),x=s(6815),v=s(7533);let p=()=>{let[e,l]=(0,a.useState)(!1),[s,r]=(0,a.useState)(!1),[n,t]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),{user:b,logout:j}=(0,o.a)(),g=c.Ry().shape({oldpass:c.Z_().min(6,"old password is required").required("old password is required"),newpass:c.Z_().min(6).required("New password is required"),cpass:c.Z_().min(6).required().oneOf([c.iH("newpass")],"Confirm Passwords does not match")}),{control:f,setError:y,handleSubmit:Z,formState:{errors:N}}=(0,m.cI)({defaultValues2:{oldpass:"",newpass:"",cpass:""},mode:"onChange",resolver:(0,v.X)(g)}),_=async e=>{l(!0);let s={oldPassword:null==e?void 0:e.oldpass,password:null==e?void 0:e.newpass,user_id:null==b?void 0:b.id},i=await (0,d.K2)("/update-password",s);l(!1),i&&setTimeout(function(){j(!1)},1e3)};return(0,i.jsxs)("div",{className:"tab-pane fade",id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab",children:[(0,i.jsxs)("div",{className:"tab_title",children:[(0,i.jsx)("h5",{children:"Update Password"}),(0,i.jsxs)("a",{role:"button",onClick:Z(_),type:"submit",className:"btn gradiant_button",children:[e?(0,i.jsx)(u.Z,{size:30,color:"inherit"}):"Update Password"," "]})]}),(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsxs)("div",{className:"firstname mb-2",children:[(0,i.jsx)("label",{for:"Password",children:"Old Password"}),(0,i.jsx)(m.Qr,{name:"oldpass",control:f,rules:{required:!0},render:e=>{let{field:{value:l,onChange:a,onBlur:r}}=e;return(0,i.jsx)("input",{className:"form-control",value:l,type:s?"text":"password",onChange:a})}}),N.oldpass&&(0,i.jsx)(x.Z,{sx:{color:"error.main"},id:"",children:N.oldpass.message})]}),(0,i.jsxs)("div",{className:"firstname mb-2",children:[(0,i.jsx)("label",{for:"Password",children:"New Password"}),(0,i.jsx)(m.Qr,{name:"newpass",control:f,rules:{required:!0},render:e=>{let{field:{value:l,onChange:s,onBlur:a}}=e;return(0,i.jsx)("input",{className:"form-control",value:l,onBlur:a,type:n?"text":"password",onChange:s})}}),N.newpass&&(0,i.jsx)(x.Z,{sx:{color:"error.main"},id:"",children:N.newpass.message})]}),(0,i.jsxs)("div",{className:"firstname mb-2",children:[(0,i.jsx)("label",{for:"Password",children:"Confirm Password"}),(0,i.jsx)(m.Qr,{name:"cpass",control:f,rules:{required:!0},render:e=>{let{field:{value:l,onChange:s,onBlur:a}}=e;return(0,i.jsx)("input",{value:l,onBlur:a,type:p?"text":"password",onChange:s,className:"form-control"})}}),N.cpass&&(0,i.jsx)(x.Z,{sx:{color:"error.main"},id:"",children:N.cpass.message})]})]})]})};var h=s(7484),b=s.n(h),j=s(1664),g=s.n(j);let f={1:"Created",2:"In-Transit",3:"Shipped",4:"Completed"},y=e=>{var l,s;let{item:a,openInv:r}=e;return(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"product_order",children:[(0,i.jsxs)("div",{className:"order_action",children:[(0,i.jsxs)("div",{className:"value_cols",children:[(0,i.jsx)("span",{className:"order_label",children:"Order Id"}),(0,i.jsxs)("span",{className:"order_value",children:["#",(null==a?void 0:a.id)||""]})]}),(0,i.jsxs)("div",{className:"btn_group",children:[(0,i.jsx)("span",{className:" pending",children:f[null==a?void 0:a.status]}),(0,i.jsx)(g(),{href:"/ratings/".concat(null==a?void 0:a.id),className:"btn gradiant_button",children:"Rate Now"}),(0,i.jsx)("a",{role:"button",onClick:()=>r(a),className:"btn gradiant_button",children:"View"})]})]}),(0,i.jsxs)("div",{className:"order_detail",children:[(0,i.jsxs)("div",{className:"order_left",children:[(0,i.jsxs)("div",{className:"value_cols",children:[(0,i.jsx)("span",{className:"order_label",children:"Date & Time"}),(0,i.jsx)("span",{className:"order_value",children:b()(null==a?void 0:a.createdAt).format("DD/MM/YYYY hh:mm A")})]}),(0,i.jsxs)("div",{className:"value_cols",children:[(0,i.jsx)("span",{className:"order_label",children:"Email"}),(0,i.jsx)("span",{className:"order_value",children:null==a?void 0:null===(l=a.AddressEntity)||void 0===l?void 0:l.email})]}),(0,i.jsxs)("div",{className:"value_cols",children:[(0,i.jsx)("span",{className:"order_label",children:"Shipping to"}),(0,i.jsx)("span",{className:"order_value",style:{textTransform:"capitalize"},children:null==a?void 0:null===(s=a.AddressEntity)||void 0===s?void 0:s.address_type})]})]}),(0,i.jsxs)("div",{className:"value_cols",children:[(0,i.jsx)("span",{className:"order_label",children:"Total"}),(0,i.jsxs)("span",{className:"order_value",children:["$",(null==a?void 0:a.total)||0]})]})]})]})})};var Z=s(1233),N=s(1163),_=s(8648),w=s(3933),E=s(6886),P=s(7906),k=s(1519),C=s(3816),I=s(3184),S=s(295),q=s(5861),A=s(7357),T=s(1496),O=s(2734),F=s(3252),M=s(7562),D=s(5675),W=s.n(D);let Y=(0,T.ZP)(A.Z)(e=>{let{theme:l}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between","&:not(:last-of-type)":{marginBottom:l.spacing(2)}}}),L=e=>{var l,s,a,r,n,t,d,o,c,m,u,x;let{data:v,mediaUrl:p}=e,h=(0,O.Z)();return v?(0,i.jsxs)(A.Z,{id:"preview_print",sx:{p:12,pb:6},children:[(0,i.jsxs)(E.ZP,{container:!0,children:[(0,i.jsx)(E.ZP,{item:!0,xs:8,sx:{mb:{sm:0,xs:4}},children:(0,i.jsx)(A.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,i.jsx)(A.Z,{sx:{mb:6,display:"flex",alignItems:"center"},children:(null===M.Z||void 0===M.Z?void 0:M.Z.appLogo)?(0,i.jsx)(W(),{alt:"",width:200,height:80,style:{margin:"1rem 0rem",objectFit:"contain"},src:null===M.Z||void 0===M.Z?void 0:M.Z.appLogo}):null})})}),(0,i.jsx)(E.ZP,{item:!0,xs:4,children:(0,i.jsxs)(A.Z,{sx:{display:"flex",flexDirection:"column",alignItems:{sm:"flex-end",xs:"flex-start"}},children:[(0,i.jsx)(q.Z,{variant:"h6",sx:{mb:2},children:"Invoice #".concat(null==v?void 0:v.id)}),(0,i.jsxs)(A.Z,{sx:{mb:2,display:"flex"},children:[(0,i.jsx)(q.Z,{variant:"body2",sx:{mr:3},children:"Date Issued:"}),(0,i.jsx)(q.Z,{variant:"body2",sx:{fontWeight:600},children:b()(null==v?void 0:v.createdAt).format("DD/MM/YYYY")})]})]})})]}),(0,i.jsx)(k.Z,{sx:{my:e=>"".concat(e.spacing(6)," !important")}}),(0,i.jsxs)(E.ZP,{container:!0,children:[(0,i.jsxs)(E.ZP,{item:!0,xs:7,md:8,sx:{mb:{lg:0,xs:4}},children:[(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:3.5,fontWeight:600},children:"Invoice To:"}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(l=v.AddressEntity)||void 0===l?void 0:l.full_name}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(s=v.AddressEntity)||void 0===s?void 0:s.email}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(a=v.AddressEntity)||void 0===a?void 0:a.phone}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(r=v.AddressEntity)||void 0===r?void 0:r.email})]}),(0,i.jsxs)(E.ZP,{item:!0,xs:5,md:4,children:[(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:3.5,fontWeight:600},children:"Shipping Address:"}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(n=v.AddressEntity)||void 0===n?void 0:n.address1}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(t=v.AddressEntity)||void 0===t?void 0:t.address2}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(d=v.AddressEntity)||void 0===d?void 0:d.city}),(0,i.jsxs)(q.Z,{variant:"body2",sx:{mb:2},children:[null==v?void 0:null===(o=v.AddressEntity)||void 0===o?void 0:o.state," , ",null==v?void 0:null===(c=v.AddressEntity)||void 0===c?void 0:c.pin]}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(m=v.AddressEntity)||void 0===m?void 0:m.country}),(0,i.jsx)(q.Z,{variant:"body2",sx:{mb:2},children:null==v?void 0:null===(u=v.AddressEntity)||void 0===u?void 0:u.phone})]})]}),(0,i.jsx)(k.Z,{sx:{mt:e=>"".concat(e.spacing(6)," !important"),mb:"0 !important"}}),(0,i.jsxs)(P.Z,{sx:{mb:6},children:[(0,i.jsx)(I.Z,{children:(0,i.jsxs)(C.Z,{children:[(0,i.jsx)(F.Z,{children:"Item"}),(0,i.jsx)(F.Z,{children:"SKU"}),(0,i.jsx)(F.Z,{children:"Price"}),(0,i.jsx)(F.Z,{children:"qty"}),(0,i.jsx)(F.Z,{children:"Total"})]})}),(0,i.jsx)(S.Z,{children:null==v?void 0:null===(x=v.OrderitemEntities)||void 0===x?void 0:x.map((e,l)=>{var s,a,r,n,t,d,o;return(0,i.jsxs)(C.Z,{children:[(0,i.jsxs)(F.Z,{children:[(0,i.jsx)("img",{style:{maxWidth:100,objectFit:"contain"},src:(null===(s=null==e?void 0:e.ProductEntity.ProductImageEntities)||void 0===s?void 0:s.length)?"".concat(p).concat(null===(a=null==e?void 0:null===(r=e.ProductEntity)||void 0===r?void 0:r.ProductImageEntities[0])||void 0===a?void 0:a.key):"/images/img-1.png",className:"img-fluid",alt:"Item Image"}),(null==e?void 0:null===(n=e.ProductEntity)||void 0===n?void 0:n.name)||""]}),(0,i.jsx)(F.Z,{children:(null==e?void 0:null===(t=e.ProductEntity)||void 0===t?void 0:t.sku_id)||""}),(0,i.jsx)(F.Z,{children:(null==e?void 0:null===(d=e.ProductEntity)||void 0===d?void 0:d.price)||""}),(0,i.jsx)(F.Z,{children:(null==e?void 0:e.quantity)||""}),(0,i.jsxs)(F.Z,{children:["$",Number(null==e?void 0:null===(o=e.ProductEntity)||void 0===o?void 0:o.price)*(null==e?void 0:e.quantity)||""]})]},l)})})]}),(0,i.jsxs)(E.ZP,{container:!0,children:[(0,i.jsx)(E.ZP,{item:!0,xs:12,sm:7,lg:9,sx:{order:{sm:1,xs:2}},children:(0,i.jsx)(q.Z,{variant:"body2",children:"Thanks for your Order"})}),(0,i.jsxs)(E.ZP,{item:!0,xs:12,sm:5,lg:3,sx:{mb:{sm:0,xs:4},order:{sm:2,xs:1}},children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(q.Z,{variant:"body2",children:"Subtotal:"}),(0,i.jsxs)(q.Z,{variant:"body2",sx:{color:"text.primary",letterSpacing:".25px",fontWeight:600},children:["$",null==v?void 0:v.total]})]}),(0,i.jsx)(k.Z,{sx:{mt:e=>"".concat(e.spacing(5)," !important"),mb:e=>"".concat(e.spacing(3)," !important")}}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(q.Z,{variant:"body2",children:"Total:"}),(0,i.jsxs)(q.Z,{variant:"body2",sx:{color:"text.primary",letterSpacing:".25px",fontWeight:600},children:["$",null==v?void 0:v.total]})]})]})]}),(0,i.jsx)(k.Z,{sx:{my:"".concat(h.spacing(6)," !important")}}),(0,i.jsxs)(q.Z,{variant:"subtitle2",sx:{color:"text.primary"},children:[(0,i.jsx)("strong",{children:"Note:"})," It was a pleasure fullfilling your Order. We hope you will keep us in mind for future Orders. Thank You!"]})]}):null},U=()=>{let[e,l]=(0,a.useState)(""),[s,r]=(0,a.useState)(!1),[n,t]=(0,a.useState)({}),d=(0,Z.I0)(),{orders:o,mediaUrl:c}=(0,Z.v9)(e=>e.user),m=(0,N.useRouter)(),{id:u}=m.query;async function x(){l(!0),await d((0,_.AU)(u)),l(!1)}function v(e){t(e),r(!0)}return(0,a.useEffect)(()=>{u&&x()},[d,u]),(0,i.jsxs)("div",{className:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab",children:[(0,i.jsxs)("div",{className:"orders",children:[(0,i.jsx)("div",{className:"tab_title",children:(0,i.jsx)("h5",{children:"My Orders"})}),(0,i.jsx)("ul",{children:(null==o?void 0:o.length)>0?null==o?void 0:o.map((e,l)=>(0,i.jsx)(y,{openInv:v,item:e},l)):(0,i.jsx)("p",{children:"No Orders found"})})]}),(0,i.jsx)(w.Z,{size:"lg",scroll:"paper",open:s,closeDialog:function(){t({}),r(!1)},title:"Invoice",children:(0,i.jsx)(L,{data:n,mediaUrl:c})})]})};var B=s(9441),R=s(5138);let z=c.Ry().shape({mobile:c.Z_().required("Mobile Number is required").matches(R.O,"Please enter a Valid Mobile Number"),name:c.Z_().required("Name is required"),email:c.Z_().email().required("Email is required")}),X={name:"",email:"",mobile:""},$=()=>{let{user:e,setUser:l}=(0,o.a)(),s=(0,m.cI)({mode:"onChange",resolver:(0,v.X)(z),defaultValuesRegister:X}),{control:c,setError:u,setValue:x,handleSubmit:h,reset:b,formState:{errors:j}}=s;(0,a.useEffect)(()=>{e&&b({name:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",mobile:(null==e?void 0:e.mobile)||""})},[e]);let g=async s=>{let i={name:null==s?void 0:s.name,mobile:null==s?void 0:s.mobile,user_id:null==e?void 0:e.id},a=await (0,d.K2)("/update-profile",i);a&&(l({...a.data}),window.localStorage.setItem("userData",JSON.stringify(a.data)))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.Z,{path:"Profile"}),(0,i.jsx)("div",{className:"container mt-4 mb-5",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12 mb-3",children:(0,i.jsx)("div",{className:"myaccount_options mb-4 mb-md-0",children:(0,i.jsxs)("div",{className:"d-flex align-items-start tabs",children:[(0,i.jsxs)("div",{className:"nav flex-column nav-pills me-3 mb-3 col-12 col-md-4 col-lg-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[(0,i.jsxs)("div",{className:"myaccount_links mb-4",children:[(0,i.jsx)("h2",{className:"display_username text-left",children:(null==e?void 0:e.name)||""}),(0,i.jsx)("p",{className:"display_useremail text-left",children:(null==e?void 0:e.email)||(null==e?void 0:e.mobile)||""})]}),(0,i.jsxs)("div",{className:"myaccount_tabs",children:[(0,i.jsx)("button",{className:"nav-link active",id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"Profile"}),(0,i.jsx)("button",{className:"nav-link",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:"Orders"}),(0,i.jsx)("button",{className:"nav-link",id:"v-pills-messages-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-messages",type:"button",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false",children:"Manage Address"}),(0,i.jsx)("button",{className:"nav-link",id:"v-pills-settings-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-settings",type:"button",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false",children:"Update Password"})]})]}),(0,i.jsxs)("div",{className:"tab-content col-12 col-md-8 col-lg-9",id:"v-pills-tabContent",children:[(0,i.jsx)("div",{className:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab",children:(0,i.jsx)(n.Z,{methods:s,onSubmit:h(g),children:(0,i.jsxs)("div",{className:"profile",children:[(0,i.jsxs)("div",{className:"tab_title",children:[(0,i.jsx)("h5",{children:"My Profile"}),(0,i.jsx)("a",{role:"button",onClick:h(g),className:"btn gradiant_button",children:"Update Profile"})]}),(0,i.jsx)("div",{className:"tab_content",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)("div",{className:"firstname mb-2",children:(0,i.jsx)(r.Z,{label:"Full Name",type:"text",name:"name",placeholder:"Enter Full Name"})}),(0,i.jsx)("div",{className:"firstname mb-2 ",children:(0,i.jsx)(r.Z,{disabled:!0,label:"Email",type:"text",name:"email",placeholder:"Enter Email"})})]}),(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)("div",{className:"firstname mb-2 ",children:(0,i.jsx)(r.Z,{label:"Mobile Number",type:"text",name:"mobile",placeholder:"Mobile Number"})})})]})})]})})}),(0,i.jsx)(U,{}),(0,i.jsx)(B.Z,{}),(0,i.jsx)(p,{})]})]})})})})})]})};$.authGuard=!0;var K=$},3933:function(e,l,s){"use strict";s.d(l,{Z:function(){return h}});var i=s(5893),a=s(4776),r=s(657),n=s(7357),t=s(5861),d=s(3946),o=s(6514),c=s(7294),m=s(2734),u=s(2563);let x=()=>{let e=(0,m.Z)();return{primaryFilled:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},primaryLight:{color:e.palette.primary.main,backgroundColor:(0,u.E)(e.palette.primary.main,.12)},secondaryFilled:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.main,backgroundColor:(0,u.E)(e.palette.secondary.main,.12)},successFilled:{color:e.palette.success.contrastText,backgroundColor:e.palette.success.main},successLight:{color:e.palette.success.main,backgroundColor:(0,u.E)(e.palette.success.main,.12)},errorFilled:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main},errorLight:{color:e.palette.error.main,backgroundColor:(0,u.E)(e.palette.error.main,.12)},warningFilled:{color:e.palette.warning.contrastText,backgroundColor:e.palette.warning.main},warningLight:{color:e.palette.warning.main,backgroundColor:(0,u.E)(e.palette.warning.main,.12)},infoFilled:{color:e.palette.info.contrastText,backgroundColor:e.palette.info.main},infoLight:{color:e.palette.info.main,backgroundColor:(0,u.E)(e.palette.info.main,.12)}}};var v=s(9878);let p=c.forwardRef(function(e,l){return(0,i.jsx)(a.Z,{direction:"down",ref:l,...e})});var h=function(e){let{closeDialog:l,children:s,open:a,title:c,size:m,scroll:u,id:h,fullScreen:b,actionComponent:j}=e;return x(),(0,i.jsxs)(r.Z,{fullWidth:!0,fullScreen:b||!1,open:a,maxWidth:m||"sm",scroll:u||"body",onClose:l,onBackdropClick:l,TransitionComponent:p,id:h||"custom_modal",children:[(0,i.jsxs)(n.Z,{className:"modal__titlediv",sx:{background:"#2E2B20"},children:[(0,i.jsx)(t.Z,{variant:"h6",color:"white",sx:{display:"flex",alignItems:"center"},children:c}),(0,i.jsx)(d.Z,{size:"small",onClick:l,children:(0,i.jsx)(v.Z,{icon:"mdi:close",color:"white"})})]}),(0,i.jsx)(o.Z,{sx:{px:{xs:7,sm:10.5},py:{xs:3,sm:4},position:"relative"},children:s}),j]})}}},function(e){e.O(0,[378,379,441,774,888,179],function(){return e(e.s=2494)}),_N_E=e.O()}]);